# 认证与权限

## 登录方式

系统提供两种登录路径：

- 账号密码登录
- Linux Do OAuth 登录

登录成功后后端返回 JWT，前端通过 `Authorization: Bearer <JWT>` 携带到后续请求。

## 密码与安全策略

- 密码使用 bcrypt 哈希保存
- 登录失败次数达到阈值后锁定账号
- 锁定时间与阈值由环境变量控制

相关环境变量：

- `BCRYPT_ROUNDS`
- `MAX_LOGIN_ATTEMPTS`
- `LOCK_TIME`

## 角色权限

- 用户角色为 `user` 或 `admin`
- 管理端接口要求管理员权限

## Linux Do OAuth

Linux Do OAuth 回调会创建或更新用户资料，并同步用户名、头像与信任等级。回调完成后同样返回 JWT，以便前端统一处理登录态。
